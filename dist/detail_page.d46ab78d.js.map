{"version":3,"sources":["js/detail_page.js"],"names":["getToday","dt","Date","year","getFullYear","month","getMonth","toString","length","day","getDate","concat","reviewCounting","document","querySelector","textContent","querySelectorAll","QNACounting","howmanyQNA","QNAposts","stars","forEach","star","index","addEventListener","att","getAttribute","i","console","log","classList","remove","add","reviewDisplayBtn","reviewWrite","$","click","hide","css","reviewWriteBtn","reviewText","value","innerHTML","today","blackStars","alert","review","createElement","setAttribute","reviewBox","appendChild","del","removeTargetReview","closest","confirm","openablePosts","addModBtn","post","editBtn","p","parentElement","adminZone","style","display","addSubmitBtn","btn","textBox","previousElementSibling","father","next","toggle","questionBoard","questionBtn","questionWrite","questionTextBox","questionSubmit","questionCheck","private","checked","qText","deleteQuestion","marginLeft","color","a","b","questionPost","answer","prepend","categoryBars","gory","g","scrollIntoView","behavior","block","inline"],"mappings":"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","file":"detail_page.d46ab78d.js","sourceRoot":"..","sourcesContent":["\n/* 잠긴 게시글 클릭 */\n// let lockedPosts = document.querySelectorAll('.qna-board .qna-post.locked')\n\n// lockedPosts.forEach((post) => {\n//     post.addEventListener('click', function(){\n//         alert('비공개 게시글입니다.')\n//     })\n// })\n\n/* 오늘 날짜 추출 */\nfunction getToday(){\n    const dt = new Date()\n    let year = dt.getFullYear()\n    let month = (dt.getMonth()+1).toString()\n    month = month.length == 1 ? '0' + month : month\n    let day = dt.getDate().toString()\n    day = day.length == 1 ? '0' + day : day\n    return `${year}-${month}-${day}`\n}\n\n/* 리뷰 카운트 */\nfunction reviewCounting(){\n    const reviewCount = document.querySelector('.product-reviews > p > span:first-child')\n    reviewCount.textContent = `전체 (총 ${document.querySelectorAll('.product-reviews .review').length}건)`\n}\n\n\n\n/* QNA 카운트 */\nfunction QNACounting(){\n    const howmanyQNA = document.querySelector('.qna-board > p')\n    const QNAposts = document.querySelectorAll('.qna-board .qna-post')\n    howmanyQNA.textContent = `전체 (총 ${QNAposts.length}건)`\n}\n\n\n\n/* 별점 클릭 */\nconst stars = document.querySelectorAll('.review-write p i')\n\nstars.forEach((star, index) => {\n    star.addEventListener('click', function(){\n\n        const att = star.getAttribute('class')\n\n        if (att == 'fa-star far'){ /* 빈 별 */\n            \n            for (let i = 0; i <= index; i++) {\n                console.log(i)\n                stars[i].classList.remove('far')\n                stars[i].classList.add('fas')\n            }\n\n        } else if (att == 'fa-star fas') { /* 채워진 별 */\n\n            for (let i = 4; i > index; i--) {\n                console.log(i)\n                stars[i].classList.remove('fas')\n                stars[i].classList.add('far')\n            }\n        }\n    })\n})\n\n\n\n\n\n/* 리뷰 작성 div 출력 */\n\nconst reviewDisplayBtn = document.querySelector('.product-reviews .btn-review-write')\nconst reviewWrite = document.querySelector('.product-reviews .review-write')\n\n$(reviewDisplayBtn).click(function(){\n    $(this).hide()\n    $(reviewWrite).css('display', 'flex')\n})\n\n\n/* 리뷰 작성 */\nconst reviewWriteBtn = document.querySelector('.review-write .review-submit')\n\nreviewWriteBtn.addEventListener('click', function(){\n\n    const reviewText = document.querySelector('.product-reviews .review-write input').value /* 리뷰 내용 */\n    const star = document.querySelector('.review-write p span').innerHTML /* 별점 */\n    const today = getToday() /* 현재 날짜 */\n    const yourID = 'fu****' /* 아이디 가져오기 (아무거나 일단..) */\n    \n\n    // const stars = document.querySelector('.review-write p i')\n    const blackStars = document.querySelectorAll('.review-write p i.fas')\n\n    if (reviewText.length < 10) alert('리뷰는 10자 이상 작성해주세요!')\n    else if (blackStars.length == 0) alert('별점을 입력해 주세요!')\n    else{\n\n        const review = document.createElement('div')\n        review.setAttribute('class', 'review')\n    \n        const reviewBox = document.querySelector('.reviews-wrap')\n        \n        review.innerHTML = `\n            <span>${reviewText} <i class=\"fas fa-trash-alt\"></i></span>\n            <div class=\"star-point\">${star}</div>\n            <div class=\"review-date\">${today}</div>\n            <div class=\"review-id\">${yourID}</div>\n        `\n    \n        reviewBox.appendChild(review)\n\n        /* 리뷰 삭제 */\n        const deleteReview = reviewBox.querySelectorAll('i.fa-trash-alt')\n        deleteReview.forEach((del) => {\n            del.addEventListener('click', function(){\n                let removeTargetReview = del.closest('.review')\n                let removeConfirm = confirm('삭제하시겠어요?')\n                if (removeConfirm) {\n                    removeTargetReview.remove()\n                    reviewCounting()\n                }\n            })\n        })\n\n        /* 초기화 */\n        document.querySelector('.product-reviews .review-write input').value = ''\n        const resetStars = document.querySelectorAll('.review-write p i')\n        resetStars.forEach((star) => {\n            star.classList.remove('fas')\n            star.classList.add('far')\n        })\n\n        alert('작성되었습니다!')\n        \n        const reviewRecount = document.querySelector('.product-reviews > p > span:first-child')\n        reviewRecount.textContent = `전체 (총 ${document.querySelectorAll('.product-reviews .review').length}건)`\n\n    }\n})\n\n\n/* 열린 게시글 클릭 */\nconst openablePosts = document.querySelectorAll('.qna-board .qna-post')\n\nopenablePosts.forEach((post) => {\n    $(post).click(function(){\n        $(this).next().toggle()\n    })\n})\n\n\n/* 답변 작성 버튼 */\n\nfunction addModBtn(){\n    const answerPosts = document.querySelectorAll('.qna-board-wrap .answer p')\n    answerPosts.forEach((post) => {\n\n    const isEmpty = post.querySelectorAll('i.fa-edit')\n\n    if (isEmpty.length != 0) {\n        return\n    }\n    \n    const editBtn = document.createElement('i')\n    editBtn.classList.add('fas')\n    editBtn.classList.add('fa-edit')\n\n    editBtn.addEventListener('click' , function(){\n        const p = this.parentElement\n        const adminZone = this.parentElement.parentElement.querySelector('.input-answer')\n        \n        p.style.display = 'none'\n        adminZone.style.display = 'block'\n    })\n\n    post.appendChild(editBtn)\n\n\n\n    \n    })\n}\n\nfunction addSubmitBtn(){\n    const answerBtn = document.querySelectorAll('.input-answer .answer-submit')\n    answerBtn.forEach((btn) => {\n        btn.addEventListener('click', function(){\n            const textBox = this.previousElementSibling\n            const p = this.parentElement.previousElementSibling\n            const span = this.parentElement.previousElementSibling.querySelector('span')\n\n            span.textContent = textBox.value\n            p.style.display = 'block'\n            this.parentElement.style.display = 'none'\n\n            const father = this.parentElement.parentElement\n            father.classList.remove('pending')\n\n            const changeStatus = father.previousElementSibling.querySelector('.status')\n            changeStatus.textContent = '답변완료'\n            \n            })\n    })\n}\n\n\nconst questionBoard = document.querySelector('.qna-board-wrap')\nconst questionBtn = document.querySelector('.qna .btn-question')\nconst questionWrite = document.querySelector('.qna .question-write')\nconst questionTextBox = questionWrite.querySelector('input.answer')\nconst questionSubmit = questionWrite.querySelector('.question-submit')\nconst questionCheck = questionWrite.querySelector('.private-check input')\n\n/* 문의하기 버튼 */\nquestionBtn.addEventListener('click', function(){\n    this.style.display = 'none'\n    questionWrite.style.display = 'flex'\n})\n\n/* 본격적으로 문의하기 */\nquestionSubmit.addEventListener('click', function(){\n    const private = document.querySelector('.private-check input').checked ? '<i class=\"fas fa-lock\"></i>' : ''\n    const qText = questionTextBox.value\n    const today = getToday()\n    const yourID = 'fu****' /* 아디는 일단 아무거나 */\n\n\n    const deleteQuestion = document.createElement('i')\n    deleteQuestion.classList.add('fas')\n    deleteQuestion.classList.add('fa-trash-alt')\n    deleteQuestion.style.marginLeft = '10px'\n    deleteQuestion.style.color = 'red'\n    deleteQuestion.addEventListener('click', function(){\n        let a = $(this).closest('.qna-post')\n        let b = a.next()\n\n        if (confirm('문의를 삭제하시겠습니까?')) {\n            a.remove()\n            b.remove()\n            QNACounting()\n        }\n        \n    })\n\n    if (qText.length < 10) {\n        alert('10자 이상 작성해주세요!')\n        return\n    }\n\n    let questionPost = document.createElement('div')\n    questionPost.classList.add('qna-post')\n\n    questionPost.innerHTML = `\n        <p class=\"status\">미처리</p>\n        <p class=\"title\">${qText} ${private}</p>\n        <p class=\"date\">${today}</p>\n        <p class=\"user\">${yourID}</p>\n    `\n\n    let title = questionPost.querySelector('.title')\n\n    title.appendChild(deleteQuestion)\n\n    let answer = document.createElement('div')\n    answer.classList.add('answer')\n    answer.classList.add('pending')\n\n    answer.innerHTML = `            \n        <b><i class=\"fas fa-sort-down\"></i> [CARHARTT] 관리자</b>\n        <p>\n            <span></span>\n        </p>\n        <div class=\"input-answer\">\n            <input type=\"text\"></input>\n            <div class=\"answer-submit\">답변하기</div>\n        </div>\n    `\n    /* 그냥 다 하자 로드될때 안 먹힐 수도 있다 */\n    \n    // $(answerSubmit).click(function(){\n    //     $(this).parent().toggle()\n    // })\n\n\n\n    \n    $(questionPost).click(function(){\n        $(answer).toggle()\n    })\n\n    /* 최종 삽입 */\n    $(questionBoard).prepend(answer) /* prepend라서 answer부터.. */\n    $(questionBoard).prepend(questionPost)\n\n    questionTextBox.value = ''\n    questionCheck.checked = false\n\n    \n\n    console.log()\n\n\n    addModBtn()\n    addSubmitBtn()\n\n    QNACounting()\n\n\n    alert('등록 되었습니다!')\n\n\n})\n\n/* 모든 수정/작성 버튼 이벤트 걸기 (동적인 요소들어오면 이거 한번 더 해줘야됨) */\n\naddModBtn()\naddSubmitBtn()\nreviewCounting()\nQNACounting()\n\n\n\n// let answerSubmit = document.querySelectorAll('.input-answer .answer-submit')\n    \n// answerSubmit.forEach((answer) => {\n//     answer.addEventListener('click', function(){\n\n//         let textZone = answer.parentElement.previousElementSibling\n//         textZone.style.display = 'block'\n\n//         let adminZone = answer.parentElement\n//         adminZone.style.display = 'none'\n\n//         let textData = answer.previousElementSibling\n//         textZone.innerHTML = `${textData.value} <i class=\"fas fa-edit\"></i>`\n\n//         /* 동적으로 만든거라서 여기서 한번 더 해야되나..? */\n\n//         let editBtns = document.querySelectorAll('.answer .fa-edit')\n\n//         editBtns.forEach((btn) => {\n//             btn.addEventListener('click' , function(){\n//                 adminZone.style.display = 'block'\n//                 btn.parentElement.style.display = 'none'\n//             })\n//         }) \n\n//     })\n// })\n\n/* 수정 버튼 */\n\n\n\n/* 미처리 문의 */\n\n// const pendingAnswers = document.querySelectorAll('.answer')\n\n                 \n// pendingAnswers.forEach((answer) => {\n//     const inputAnswer = document.createElement('div')\n//     inputAnswer.setAttribute('class', 'answer')\n//     // inputAnswer.setAttribute('class', 'answer')\n\n//     inputAnswer.innerHTML = `\n//             <div class=\"input-answer\">\n//                 <b><i class=\"fas fa-sort-down\"></i> [CARHARTT] 관리자</b>\n//                 <input type=\"text\"></textarea>\n//                 <div class=\"answer-submit\">답변하기</div>\n//             </div>`\n\n//     answer.appendChild(inputAnswer)\n    \n// })\n\n\n// /* 미처리 문의 */\n\n// const replyPost = document.querySelector('.qna-post .answer.pending')\n\n// replyPost.forEach((post) => {\n\n//     let replyInput = post.querySelector('.input-answer')\n\n//     let replyText = post.querySelector('input')\n//     let replyBtn = post.querySelector('.answer-submit')\n\n//     replyBtn.addEventListener('click', function(){\n\n//     console.log(replyText)\n//     let replyElement = document.createElement('p')\n//     replyElement.textContent = replyText.value\n\n//     /* 수정 구현 */\n\n//     let modifyBtn = document.createElement('span')\n//     modifyBtn.innerHTML = ' <i class=\"fas fa-edit\"></i>'\n//     modifyBtn.style.color = '#545ADC'\n//     modifyBtn.style.cursor = 'pointer'\n\n//     replyElement.appendChild(modifyBtn)\n//     post.appendChild(replyElement)\n\n//     replyInput.style.display = 'none'\n//     modifyBtn.addEventListener('click', function(){\n//         replyInput.style.display = 'flex'\n//         post.removeChild(replyElement)\n//     })\n\n//     /* 미처리 -> 답변완료 */\n    \n//     $(post).prev().children('.status').text('답변완료')\n\n// })\n\n// })\n\n\n\n/* category bar 스크롤 */\n\nconst categoryBars = document.querySelectorAll('.category-bar')\n\ncategoryBars.forEach((gory) => {\n    let gorys = gory.querySelectorAll('div')\n\n    gorys.forEach((g, index) => {\n\n        g.addEventListener('click', function(){\n\n            let arrival = categoryBars[index]\n\n            arrival.scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"start\"});\n        })\n    })\n})"]}